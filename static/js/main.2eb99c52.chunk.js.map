{"version":3,"sources":["hoc/withAuthRedirect.js","redux/dialogs-reducer.js","components/common/Preloader/Preloader.module.css","components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/Posts.module.css","api/api.js","redux/auth-reducer.js","redux/profile-reducer.js","components/common/utils/validators/formControl/formControl.js","components/Navbar/Navbar.module.css","components/Header/Header.jsx","components/Header/Header-container.jsx","components/Navbar/Navbar.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/Posts-container.jsx","components/Profile/Profile.jsx","components/Profile/Profile-container.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/navbar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","reportWebVitals.js","index.js","components/common/utils/validators/validators.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/utils/validators/formControl/formControl.module.css","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","components/common/utils/helpers.js","redux/users-reducer.js","assets/images/peep.jpg"],"names":["mapStateToPropsRedirect","state","logged_in","login","withAuthRedirect","Component","withRedComp","this","props","to","React","connect","ADD_MES","initialState","DailogList","name","id","MessagesList","text","addMesActionCreator","type","dialogsReducer","action","newMes","module","exports","instanse","axios","baseURL","withCredentials","headers","GetUsersAPI","getUsers","page","count","get","then","response","data","follow","post","unfollow","delete","ProfileAPI","profile","getStatus","setStatus","status","put","setPhoto","photos","formData","FormData","append","LoginAPI","loginning","email","password","rememberMe","logout","LOGIN","loginUser","loginThunkCreator","dispatch","a","resultCode","loginingThunkCreator","message","messages","length","stopSubmit","_error","logoutThunkCreator","authReducer","ADD_POST","SET_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO","PostList","likes","addPostActionCreator","savePhotoAC","profileThunkCreator","getStatusThunk","setStatusThunk","savePhoto","profileReducer","newPost","map","p","FormControl","input","meta","touched","error","children","hasError","className","c","formControl","errorMessage","TextArea","restProps","child","Input","createField","component","validate","placeholder","Header","header","src","alt","isLoggedIn","onClick","HeaderContainer","Navbar","nav","liitem","activeClassName","activeLink","ProfileStatusHooks","useState","editMode","setEditMode","editStatus","useEffect","onDoubleClick","const","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileInfo","photo","large","peep_photo","isOwner","target","files","description","fullName","lookingForAJobDescription","contacts","github","twitter","youtube","Preloader","Post","item","Posts","memo","PostElements","m","ReduxPostForm","onSubmit","values","addPost","postText","postsBlock","maxLengthCreator","maxLength","reduxForm","form","handleSubmit","Field","requiredField","PostsContainer","profilePage","Profile","store","ProfileCont","userId","match","params","userid","history","push","updateProfile","prevProps","compose","withRouter","ReduxLoginForm","errorlogin","isAuth","remember","INITIALIZED","initialized","appReducer","navbarReducer","reducers","combineReducers","dialogsPage","usersPage","usersReducer","formReducer","initialised","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","SuspenceComponent","fallback","DialogsContainer","lazy","UsersContainer","App","initializedThunk","path","render","AppCompose","promise","Promise","all","AppWithWrap","StrictMode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","max","preloader","followUnfollowHelper","bool","users","u","user_id","followed","FOLLOW","UNFOLLOW","GET_USERS","GET_COUNT","SET_PAGE_NUMBER","TOGGLE_IS_FETCHING","CHANGE_USERS_IN_PROGRESS","users_on_page","isFetching","usersInProgress","isInProgress","setPageNumber","setIsFetching","setUsersInProgress","inProgress","getUsersThunkCreator","items","totalCount","followunfollow","apimeth","acreator","followThunkCreator","filter"],"mappings":"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","file":"static/js/main.2eb99c52.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsRedirect = (state) => {\r\n    return {\r\n      logged_in: state.login.logged_in\r\n    }\r\n  }\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class withRedComp extends React.Component {\r\n        render() {\r\n            if (!this.props.logged_in) {\r\n                return <Redirect to={'/login'}></Redirect>\r\n            }\r\n            return <Component {...this.props} />\r\n            }\r\n        }\r\n        let withRedWithState = connect( mapStateToPropsRedirect ) (withRedComp);\r\n    return withRedWithState;\r\n  }","let ADD_MES = \"itk/app/ADD-MES\";\r\n//let UPDATE_NEW_MES_TEXT = \"UPDATE-NEW-MES-TEXT\";\r\n\r\nlet initialState = {\r\n    DailogList: [\r\n        {name:\"Lex\", id:1},\r\n        {name:\"Lil\", id:2},\r\n        {name:\"Bo\", id:3},\r\n        {name: \"Pu\", id:4},\r\n        {name: \"Lu\", id:5}\r\n      ],\r\n    MessagesList: [\r\n        {text: \"Hey\"},\r\n        {text: \"Yo\"},\r\n        {text: \"Huilo\"},\r\n        {text: \"lu\"}\r\n    ],\r\n    //newMesText: \"\"\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MES:\r\n            let newMes = {\r\n                text: action.text\r\n            }\r\n            return {\r\n                ...state,\r\n                MessagesList: [...state.MessagesList, newMes]\r\n            }\r\n        /*case UPDATE_NEW_MES_TEXT:\r\n            return {\r\n                ...state,\r\n                newMesText: action.text\r\n            }*/\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMesActionCreator = (text) => {\r\n    return { type: ADD_MES, text };\r\n  }\r\n/*export const newMesTextActionCreator = (newP) => {\r\n    return { type: UPDATE_NEW_MES_TEXT, text: newP };\r\n  }*/\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__28q5W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__i9wTR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"Posts_postsBlock__1NRGz\"};","import * as axios from 'axios';\r\nimport { loginUser } from '../redux/auth-reducer';\r\nimport profileReducer from '../redux/profile-reducer';\r\nimport { follow } from '../redux/users-reducer';\r\n\r\nconst instanse = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"b7be37fd-b192-40b5-b8a6-df2be4933548\"\r\n      }\r\n})\r\n\r\nexport const GetUsersAPI = {\r\n    getUsers(page, count) {\r\n    return instanse.get(`users?page=${page}&count=${count}`)\r\n        .then(response => response.data)\r\n    },\r\n\r\n    follow(id) {\r\n        return instanse.post(`follow/${id}`).then(response => response.data)\r\n    },\r\n    unfollow(id) {\r\n        return instanse.delete(`follow/${id}`).then(response => response.data)\r\n    }\r\n} \r\n\r\nexport const ProfileAPI = {\r\n    profile(id) {\r\n        return instanse.get(`profile/${id}`).then(response => response.data)\r\n    },\r\n    getStatus(id) {\r\n        return instanse.get(`/profile/status/${id}`)\r\n    },\r\n    setStatus(status) {\r\n        return instanse.put(`/profile/status`, {status})\r\n    },\r\n    setPhoto(photos) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photos)\r\n        return instanse.put('/profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const LoginAPI = {\r\n    login() {\r\n        return instanse.get(`auth/me`)\r\n        .then(response => response.data)\r\n    },\r\n    loginning(email, password, rememberMe) {\r\n        return instanse.post('/auth/login', {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instanse.delete('/auth/login')\r\n    }\r\n}","import { stopSubmit } from 'redux-form';\r\nimport {LoginAPI} from '../api/api';\r\n\r\nlet LOGIN = \"itk/app/LOGIN\";\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    logged_in: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const loginUser = (id, email, login, logged_in) => {\r\n    return { type: LOGIN, data: {id, email, login, logged_in} };\r\n  }\r\n\r\nexport const loginThunkCreator = () => async (dispatch) => {\r\n    let response = await LoginAPI.login()\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(loginUser(id, email, login, true));\r\n    }\r\n    }\r\n\r\nexport const loginingThunkCreator = (email, password, rememberMe = false) => async (dispatch) => {\r\n        let response = await LoginAPI.loginning(email, password, rememberMe)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(loginThunkCreator())\r\n        }\r\n        else {\r\n            let message = response.data.messages.length > 0 ? \r\n            response.data.messages[0] : \"some error\"\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    }\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let response = await LoginAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(loginUser(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {ProfileAPI} from '../api/api';\r\n\r\nlet ADD_POST = \"itk/app/ADD-POST\";\r\nlet SET_PROFILE = \"itk/app/SET_PROFILE\";\r\nlet SET_STATUS = \"itk/app/SET_STATUS\";\r\nlet DELETE_POST = \"itk/app/DELETE_POST\";\r\nlet SAVE_PHOTO = \"itk/app/SAVE_PHOTO\";\r\n\r\nlet initialState = {\r\n    PostList: [\r\n        { message: \"Hi hi\", likes: 10, id: 1 },\r\n        { message: \"Ho ho\", likes: 15, id: 2 },\r\n        { message: \"Yo\", likes: 15, id: 3 },\r\n        { message: \"Россия будет свободной!\", likes: 1500, id: 4 },\r\n        { message: \"FREEDOM!\", likes: 3000, id: 5 }\r\n    ],\r\n    profile: null,\r\n    status: \"Add Status\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                message: action.text, \r\n                likes: 0 \r\n            }\r\n            return {\r\n                ...state,\r\n                PostList: [...state.PostList, newPost],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                PostList: state.PostList.map(p => p.id != action.id)\r\n            }\r\n        case SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile \r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (text) => {\r\n    return { type: ADD_POST, text };\r\n  }\r\nexport const setProfile = (profile) => {\r\n    return { type: SET_PROFILE, profile };\r\n}\r\nexport const setStatus = (status) => {\r\n    return { type: SET_STATUS, status } \r\n}\r\nexport const deletingPostAC = (id) => {\r\n    return {type: DELETE_POST, id}\r\n}\r\nexport const savePhotoAC = (photos) => {\r\n    return {type: SAVE_PHOTO, photos}\r\n}\r\n\r\nexport const profileThunkCreator = (id) => {\r\n    return (dispatch) => {\r\n        ProfileAPI.profile(id).then(response => {\r\n          dispatch(setProfile(response));\r\n        })\r\n    }\r\n}\r\n\r\nexport const getStatusThunk = (id) => async (dispatch) => {\r\n        let response = await ProfileAPI.getStatus(id);\r\n        dispatch(setStatus(response.data))\r\n    }\r\n\r\nexport const setStatusThunk = (status) => async (dispatch) => {\r\n        let response = await ProfileAPI.setStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }  \r\n    }\r\nexport const savePhoto = (photos) => async (dispatch) => {\r\n    let response = await ProfileAPI.setPhoto(photos);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoAC(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport c from './formControl.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nexport const FormControl = ({input, meta: {touched, error} , children, ...props}) => {\r\n    const hasError = error && touched;\r\n    return <div>\r\n        <div className={hasError && c.formControl}>\r\n        {children}\r\n        </div>\r\n        {hasError && <span className={c.errorMessage}>{error}</span>}\r\n        </div>\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}></textarea></FormControl>\r\n}\r\n\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}></input></FormControl>\r\n}\r\n\r\nexport const createField = (component, name, type, validate = [], placeholder, text = '') => {\r\n    return <div>\r\n        <Field component={component} name={name} type={type} \r\n        placeholder={placeholder} validate={validate} />{text}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Gbnho\",\"liitem\":\"Navbar_liitem__1US6v\",\"activeLink\":\"Navbar_activeLink__1tKJd\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport c from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={c.header}>\r\n        <img src=\"https://yt3.ggpht.com/ytc/AAUvwnigRgJwV5rQ-LPZbamLejYINscuX9fcz5a7cuC9NQ=s900-c-k-c0x00ffffff-no-rj\"\r\n        alt=\"cat\"></img>\r\n\r\n        <div className={c.isLoggedIn}>\r\n          { props.logged_in ? <div>{props.login} - \r\n          <button onClick={props.logoutThunkCreator}>Log Out</button></div> :\r\n          <NavLink to={'/login'}>Login</NavLink> }\r\n        </div>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport c from './Header.module.css';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {loginThunkCreator, logoutThunkCreator} from '../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.loginThunkCreator();\r\n  } \r\n\r\n  render() {\r\n    return < Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  logged_in: state.login.logged_in,\r\n  login: state.login.login\r\n})\r\n\r\nexport default connect (mapStateToProps, {loginThunkCreator, logoutThunkCreator}) (HeaderContainer);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport c from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n      <nav className={c.nav}>\r\n        <div className={c.liitem}>\r\n          <NavLink to=\"/profile\" activeClassName={c.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={c.liitem}>\r\n          <NavLink to=\"/dialogs\" activeClassName={c.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={c.liitem}>\r\n          <NavLink to=\"/users\" activeClassName={c.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={c.liitem}>\r\n          News\r\n          </div>\r\n        <div className={c.liitem}>\r\n          Music\r\n        </div>\r\n      </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React, { useState, useEffect } from 'react';\r\nimport c from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, editStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        editStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activeEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    \r\n    const deactiveEditMode = () => {\r\n        setEditMode(false);\r\n        props.setStatusThunk(status);\r\n    }\r\n\r\n    const statusChanged = (e) => {\r\n        editStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div onDoubleClick={activeEditMode}>\r\n                    <span>{status}</span></div>}\r\n            {editMode &&\r\n                <input const onChange={statusChanged} autoFocus onBlur={deactiveEditMode} \r\n                value={status}></input>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusHooks;","import React from 'react';\r\nimport c from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport peep_photo from '../../../assets/images/peep.jpg';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  const uploadPhoto = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div>\r\n    <div className={c.profile}>\r\n      <div>\r\n        <img src=\"https://qtxasset.com/styles/breakpoint_sm_default_480px_w/s3/travelagentcentral/1531931320/ZagrebCroatiaDreamer4787iStockGettyImagesPlusGettyImages.jpg/ZagrebCroatiaDreamer4787iStockGettyImagesPlusGettyImages.jpg?rrsTko5z.v6vT2IMzFUSB3jx3GL7yg06&itok=2I70zwtl\"\r\n          alt=\"Chroatia\"></img>\r\n      </div>\r\n    </div>\r\n      <div className={c.photo} >\r\n        <img className={c.photo} src={ props.profile.photos.large == null ? peep_photo : props.profile.photos.large}></img>\r\n      </div>\r\n      {props.isOwner && <div><input onChange={uploadPhoto} type={'file'}></input></div>}\r\n      <div className={c.description}>\r\n      <div>\r\n      <p>{props.profile.fullName}</p>\r\n      <ProfileStatusHooks status={props.status} setStatusThunk={props.setStatusThunk}/>\r\n      <p>{props.profile.lookingForAJobDescription}</p>\r\n      <h5>Contacts</h5>\r\n      <p>{props.profile.contacts.github}</p>\r\n      <p>{props.profile.contacts.twitter}</p>\r\n      <p>{props.profile.contacts.youtube}</p>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport c from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={c.item}>\r\n      <img alt=\"ava\"\r\n      src=\"https://blog.ferplast.com/wp-content/uploads/2019/07/owning-a-white-cat-5b1b91a318ba9-1024x683.jpg\"></img>\r\n      <span>{props.message}</span><br></br>\r\n      <span>{props.likes}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport c from './Posts.module.css';\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport {maxLength, requiredField} from '../../common/utils/validators/validators';\r\nimport {TextArea} from '../../common/utils/validators/formControl/formControl';\r\n\r\nconst Posts = React.memo(props => {\r\n  let PostElements = props.PostElements\r\n  .map( (m) => <Post message={m.message} id={m.likes} />) \r\n\r\n  //let newPost = React.createRef()\r\n\r\n  /*let addPost = () => {\r\n    props.addPost();\r\n  } \r\n\r\n  let newPostText = () => {\r\n    let newP = newPost.current.value;\r\n    props.updateNewPost(newP);\r\n  }*/\r\n\r\n  const onSubmit = (values) => {\r\n    props.addPost(values.postText);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>My Posts</h3>\r\n      <ReduxPostForm {...props} onSubmit={onSubmit}/>\r\n      <div className={c.postsBlock}>\r\n      Posts\r\n      {PostElements}\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nconst maxLengthCreator = maxLength(10)\r\n\r\nconst PostForm = (props) => {\r\n  \r\n  return (\r\n    <div>\r\n    <div>New Post</div>\r\n    <form onSubmit={props.handleSubmit}>\r\n    <Field component={TextArea} name={'postText'} validate={[requiredField, maxLengthCreator]}/>\r\n    <button>Add</button>\r\n    </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nconst ReduxPostForm = reduxForm({\r\n  form: \"post\"\r\n})(PostForm)\r\n\r\nexport default Posts;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport Posts from './Posts';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    PostElements: state.profilePage.PostList\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (text) => {\r\n      dispatch(addPostActionCreator(text))\r\n    }\r\n  }\r\n}\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport PostsContainer from './Posts/Posts-container';\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n      <div>\r\n      <ProfileInfo profile={props.profile} \r\n      isOwner={props.isOwner}\r\n      status={props.status} \r\n      setStatusThunk={props.setStatusThunk}\r\n      savePhoto={props.savePhoto}/>\r\n      <PostsContainer store={props.store} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from './Profile';\r\nimport {profileThunkCreator, getStatusThunk, setStatusThunk, savePhoto} from '../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileCont extends React.Component {\r\n\r\n  updateProfile() {\r\n    let userId = this.props.match.params.userid;\r\n    if (!userId) {\r\n      userId = this.props.id\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.profileThunkCreator(userId);\r\n    this.props.getStatusThunk(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateProfile();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.userid != prevProps.match.params.userid) {\r\n      this.updateProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <Profile {...this.props} \r\n      profile={this.props.profile} \r\n      isOwner={!this.props.match.params.userid}\r\n      savePhoto={this.props.savePhoto}\r\n      status={this.props.status}\r\n      setStatusThunk={this.props.setStatusThunk}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    id: state.login.id\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect( mapStateToProps, { profileThunkCreator, getStatusThunk, setStatusThunk, savePhoto } ),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileCont)","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport {Input} from '../common/utils/validators/formControl/formControl';\r\nimport {requiredField} from '../common/utils/validators/validators';\r\nimport {loginingThunkCreator} from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport c from '../common/utils/validators/formControl/formControl.module.css';\r\nimport {createField} from '../common/utils/validators/formControl/formControl';\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.loginingThunkCreator(formData.email, formData.password, formData.remember, true);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to=\"/profile\" />\r\n    }\r\n\r\n    return <div>\r\n    <h1>Login</h1>\r\n    <ReduxLoginForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(Input, 'email', 'text', [requiredField], 'email')}\r\n            {createField(Input, 'password', 'password', [requiredField], 'password', )}\r\n\r\n            {createField(Input, 'remember', 'checkbox', [], null, 'remember me')}<br></br>\r\n\r\n            {error && <div><span className={c.errorlogin}>{error}</span><br></br></div>}\r\n            <button>Login</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm({\r\n    form: \"login\"\r\n})(LoginForm)\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.login.logged_in\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {loginingThunkCreator} )(Login);","import { stopSubmit } from 'redux-form';\r\nimport {LoginAPI} from '../api/api';\r\nimport {loginThunkCreator} from './auth-reducer';\r\n\r\nlet INITIALIZED = 'itk/app/INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initialized = () => {\r\n    return { type: INITIALIZED };\r\n  }\r\n\r\nexport const initializedThunk = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(loginThunkCreator());\r\n        Promise.all([promise]).then(dispatch(initialized()));\r\n        }\r\n    }\r\n\r\nexport default appReducer;","let initialState = {\r\n}\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default navbarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navbarReducer from \"./navbar-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    dialogsPage: dialogsReducer,\r\n    Navbar: navbarReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    login: authReducer,\r\n    form: formReducer,\r\n    initialised: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\n\r\nconst SuspenceComponent = (Component) => {\r\n  return (props) => (<div>\r\n  <Suspense fallback={<div>Loading...</div>}>\r\n    <Component {...props}/>\r\n  </Suspense> </div>\r\n  )\r\n}\r\n\r\nexport default SuspenceComponent;","import React, { Suspense } from 'react';\nimport HeaderContainer from './components/Header/Header-container'\nimport './App.css'\nimport Navbar from './components/Navbar/Navbar';\nimport ProfileContainer from './components/Profile/Profile-container';\n//import DialogsContainer from './components/Dialogs/Dialogs-container';\n//import UsersContainer from './components/Users/Users-container';\nimport { HashRouter, BrowserRouter, Route, withRouter } from 'react-router-dom';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport {loginThunkCreator} from './redux/auth-reducer';\nimport { compose } from 'redux';\nimport { initializedThunk } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport SuspenceComponent from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/Dialogs-container'));\nconst UsersContainer = React.lazy(() => import('./components/Users/Users-container'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializedThunk();\n  } \n\n  render() {\n    if (!this.props.initialised) {\n      return <Preloader />\n    }\n    return (\n      <HashRouter>\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <Navbar />\n          <div className=\"app-wrapper-content\">\n            <Route path=\"/dialogs\" render={SuspenceComponent(DialogsContainer)} />\n\n            <Route path=\"/profile/:userid?\" render={() => <ProfileContainer store={this.props.store} />} />\n            <Route path=\"/users\" render={SuspenceComponent(UsersContainer)} />\n            <Route path=\"/login\" render={() => <Login />} />\n          </div>\n        </div>\n      </HashRouter>\n    )\n  }\n}\nconst mapStateToProps = (state) => ({\n  initialised: state.initialised.initialized\n})\n\nconst AppCompose = compose(\n  withRouter,\n  connect(mapStateToProps, {initializedThunk}))(App);\n\n const AppWithWrap = () => {\n   return <BrowserRouter>\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppCompose />\n    </Provider>\n  </React.StrictMode>\n  </BrowserRouter>\n}\n\nexport default AppWithWrap;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppWithWrap from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store'\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n      <AppWithWrap />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","\r\nexport const requiredField = (value) => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLength = (max) => (value) => {\r\n    if (value.length > max) {\r\n        return `Max lenght is ${max} symbols`\r\n    }\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__1Yuf0\",\"photo\":\"ProfileInfo_photo__2ABtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControl_formControl__2Mkqj\",\"errorMessage\":\"formControl_errorMessage__395EE\",\"errorlogin\":\"formControl_errorlogin__2V9ob\"};","import React from 'react';\r\n//import preloader from '../../../assets/images/spinner.gif'\r\nimport c from './Preloader.module.css';\r\n\r\nconst Preloader = () => {\r\n    return <div className={c.preloader} >\r\n        <img src=\"https://media4.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif\"></img>\r\n        </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__v-TUK\",\"isLoggedIn\":\"Header_isLoggedIn__1IDJa\"};","export const followUnfollowHelper = (state, action, bool) => {\r\n    return {\r\n    ...state,\r\n    users: state.users.map(u => {\r\n        if (u.id === action.user_id) {\r\n            return {...u, followed: bool }\r\n        }\r\n        return u;\r\n    })\r\n}\r\n}","import {GetUsersAPI} from '../api/api';\r\nimport {followUnfollowHelper} from '../components/common/utils/helpers';\r\n\r\nlet FOLLOW = \"itk/app/FOLLOW\";\r\nlet UNFOLLOW = \"itk/app/UNFOLLOW\";\r\nlet GET_USERS = \"itk/app/GET_USERS\";\r\nlet GET_COUNT = \"itk/app/GET_COUNT\";\r\nlet SET_PAGE_NUMBER = \"itk/app/SET_PAGE_NUMBER\";\r\nlet TOGGLE_IS_FETCHING = \"itk/app/TOGGLE_IS_FETCHING\";\r\nlet CHANGE_USERS_IN_PROGRESS = \"itk/app/CHANGE_USERS_IN_PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    count: 10,\r\n    page: 1,\r\n    users_on_page: 5,\r\n    isFetching: false,\r\n    usersInProgress: [],\r\n    isInProgress: false\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return followUnfollowHelper(state, action, true);\r\n            /*return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.user_id) {\r\n                        return {...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }*/\r\n        case UNFOLLOW:\r\n            return followUnfollowHelper(state, action, false);\r\n            /*return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.user_id) {\r\n                        return {...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            }*/\r\n        case GET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case GET_COUNT:\r\n            return {\r\n                ...state,\r\n                count: action.count\r\n            }\r\n        case SET_PAGE_NUMBER:\r\n            return {\r\n                ...state,\r\n                page: action.page\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case CHANGE_USERS_IN_PROGRESS:\r\n            if (action.inProgress == true) {\r\n                return {\r\n                    ...state, \r\n                    usersInProgress: [...state.usersInProgress, action.id],\r\n                    isInProgress: true\r\n                }\r\n            }\r\n            else {\r\n                return {\r\n                    ...state, \r\n                    usersInProgress: state.usersInProgress.filter(id => id != action.id),\r\n                    isInProgress: false\r\n                }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const follow = (user_id) => {\r\n    return { type: FOLLOW, user_id };\r\n  }\r\nexport const unfollow = (user_id) => {\r\n    return { type: UNFOLLOW, user_id };\r\n  }\r\nexport const setUsers = (users) => {\r\n    return { type: GET_USERS, users}\r\n}\r\nexport const getCount = (count) => {\r\n    return { type: GET_COUNT, count }\r\n}\r\nexport const setPageNumber = (page) => {\r\n    return { type: SET_PAGE_NUMBER, page }\r\n}\r\nexport const setIsFetching = (isFetching) => {\r\n    return { type: TOGGLE_IS_FETCHING, isFetching }\r\n}\r\nexport const setUsersInProgress = (inProgress, id) => {\r\n    return { type: CHANGE_USERS_IN_PROGRESS, inProgress, id}\r\n}\r\n\r\nexport const getUsersThunkCreator = (page, users_on_page) => async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        dispatch(setPageNumber(page));\r\n        let response = await GetUsersAPI.getUsers(page, users_on_page)\r\n        dispatch(setIsFetching(false));\r\n        dispatch(setUsers(response.items))\r\n        dispatch(getCount(response.totalCount))\r\n    } \r\n\r\nconst followunfollow = async (dispatch, id, apimeth, acreator) => {\r\n    dispatch(setUsersInProgress(true, id));\r\n    let response = await apimeth(id);\r\n    if (response.resultCode === 0) {\r\n        dispatch(acreator(id));\r\n    }\r\n    dispatch(setUsersInProgress(false, id));\r\n}\r\n\r\nexport const followThunkCreator = (bool, id) => {\r\n    if (bool === true) {\r\n        return async (dispatch) => followunfollow(dispatch, id, GetUsersAPI.follow, follow)\r\n    }\r\n    else {\r\n        return async (dispatch) => followunfollow(dispatch, id, GetUsersAPI.unfollow, unfollow)\r\n    }\r\n}\r\n\r\n/*export const followThunkCreator = (bool, id) => async (dispatch) => {\r\n        dispatch(setUsersInProgress(true, id));\r\n        if (bool === true) {\r\n            let response = await GetUsersAPI.follow(id)\r\n            if (response.resultCode === 0) {\r\n                dispatch(follow(id));\r\n            }\r\n        }\r\n        else {\r\n            let response = await GetUsersAPI.unfollow(id)\r\n            if (response.resultCode === 0) {\r\n                dispatch(unfollow(id));\r\n            }\r\n        }\r\n        dispatch(setUsersInProgress(false, id));\r\n    }*/\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/peep.35bf1386.jpg\";"],"sourceRoot":""}